(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[0],{100:function(e,t,o){"use strict";o.r(t);var n=o(20),a=o(15),i=o.n(a),c=o(54),r=o.n(c),s=(o(72),o(45)),l=o.n(s),d=o(49),u=o.n(d),p=o(55),g=o(4),m=o(36),b=o(66),h=o(64),f=o(27),M=o(37),w=o(24),v=o.n(w),y=o(56),k=o.n(y),O=o(35),C=o(65),j=o(46),_=o(34),x=o(59),T=o(62),z=o(61),D=o(63),I=o(50),R=o.n(I),S=o(60),N=o.n(S),Z=o(51);o(74);var Y=o(84);o(98);var B,L,P=function(){function e(t){Object(f.a)(this,e);this.checkboxes=t.checkboxes||[],this.onRemoveOrig=t.draw.onRemove}return Object(M.a)(e,[{key:"onAdd",value:function(e){var t=this;return t.map=e,t._container=document.createElement("div"),t._container.className="mapboxgl-ctrl-group mapboxgl-ctrl",t.elContainer=t._container,t.checkboxes.forEach((function(e){t.addCheckbox(e)})),t._container}},{key:"onRemove",value:function(e){ctrl.checkboxes.forEach((function(e){ctrl.removeButton(e)})),ctrl.onRemoveOrig(e)}},{key:"addCheckbox",value:function(e){var t=document.createElement("input");t.setAttribute("type","checkbox"),t.setAttribute("title",e.title),t.checked="checked"===e.initialState,t.className="mapbox-gl-draw_ctrl-draw-btn",e.classes instanceof Array&&e.classes.forEach((function(e){t.classList.add(e)})),t.addEventListener(e.on,e.action),this.elContainer.appendChild(t),e.elCheckbox=t}},{key:"removeButton",value:function(e){e.elCheckbox.removeEventListener(e.on,e.action),e.elCheckbox.remove()}}]),e}(),A=function(e){Object(b.a)(o,e);var t=Object(h.a)(o);function o(e){var n;Object(f.a)(this,o);var a=e=e||{},i=a.modes,c=a.styles,r=a.otherOtions,s=Object(g.a)(Object(g.a)({},v.a.modes),{},{draw_point:O.c,draw_polygon:O.d,draw_line_string:O.a,pinning_mode:C.a,passing_mode_point:Object(j.a)(v.a.modes.draw_point),passing_mode_line_string:Object(j.a)(v.a.modes.draw_line_string),passing_mode_polygon:Object(j.a)(v.a.modes.draw_polygon),scaleRotateMode:_.b,cutPolygonMode:x.a,splitPolygonMode:T.a,splitLineMode:z.a,freehandMode:D.a,draw_rectangle:R.a,draw_rectangle_assisted:N.a}),l=Object(g.a)(Object(g.a)({},s),i),d=k()(c,I.DrawStyles,O.b,_.c,Z.a,"id"),b=Object(g.a)(Object(g.a)({modes:l,styles:d},{bufferSize:.5,bufferUnit:"kilometers",bufferSteps:64,snap:!1,guides:!1,userProperties:!0}),r);(n=t.call(this,b)).buttons=[{on:"click",action:function(e){n.map.getCanvas().style.cursor="pointer",n.map.once("click",(function(e){n.map.getCanvas().style.cursor="";var t=new Y(e.lngLat,250,{editable:!1,fillColor:"#3bb2d0",fillOpacity:.1,strokeColor:"#3bb2d0",strokeWeight:2}).addTo(n.map);t.on("click",(function(e){t.remove(),t.options.editable?(t.options.editable=!1,t.options.fillColor="#3bb2d0",t.options.strokeColor="#3bb2d0"):(t.options.editable=!0,t.options.fillColor="#fbb03b",t.options.strokeColor="#fbb03b"),t._updateCircle(),t.addTo(n.map)})),t.on("centerchanged",(function(e){t.remove(),t.options.editable=!1,t.options.fillColor="#3bb2d0",t.options.strokeColor="#3bb2d0",t._updateCircle(),t.addTo(n.map)})),t.on("radiuschanged",(function(e){t.remove(),t.options.editable=!1,t.options.fillColor="#3bb2d0",t.options.strokeColor="#3bb2d0",t._updateCircle(),t.addTo(n.map)}))}))},classes:["draw-circle"],title:"Draw Circle tool"},{on:"click",action:function(){try{draw.changeMode("freehandMode")}catch(e){console.error(e)}},classes:["free-hand"],title:"Free-Hand Draw Mode tool"},{on:"click",action:function(){try{draw.changeMode("draw_rectangle",{areaLimit:parseInt(prompt("Max Area? (empty for no restriction)"))})}catch(e){console.error(e)}},classes:["draw-rectangle"],title:"Rectangle Draw Mode tool"},{on:"click",action:function(){try{draw.changeMode("draw_rectangle_assisted")}catch(e){console.error(e)}},classes:["draw-rectangle-assisted"],title:"Assisted Rectangle Draw Mode tool"},{on:"click",action:function(){try{draw.changeMode("splitLineMode",{spliter:prompt("Which Mode? (point, line_string, polygon)")})}catch(e){alert(e.message),console.error(e)}},classes:["split-line"],title:"Split Line Mode tool"},{on:"click",action:function(){try{draw.changeMode("splitPolygonMode")}catch(e){alert(e.message),console.error(e)}},classes:["split-polygon"],title:"Split Polygon Mode tool"},{on:"click",action:function(){try{draw.changeMode("cutPolygonMode")}catch(e){alert(e.message),console.error(e)}},classes:["cut-polygon"],title:"Cut Polygon Mode tool"},{on:"click",action:function(){try{draw.changeMode("scaleRotateMode",{canScale:!0,canRotate:!0,canTrash:!1,rotatePivot:_.a.Center,scaleCenter:_.a.Opposite,singleRotationPoint:!0,rotationPointRadius:1.2,canSelectFeatures:!0})}catch(e){alert(e.message),console.error(e)}},classes:["rotate-icon"],title:"Scale and Rotate Mode tool"},{on:"click",action:function(){draw.changeMode("pinning_mode")},classes:["pinning_mode"],title:"Pinning Mode tool"}],n.onAddOrig=n.onAdd,n.onRemoveOrig=n.onRemove;var h=function(){var e=Object(p.a)(u.a.mark((function e(t,o,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new P({draw:o,checkboxes:[{on:"change",action:function(e){o.options.snap=e.target.checked},classes:["snap_mode","snap"],title:"Snap when Draw",initialState:"checked"},{on:"change",action:function(e){o.options.guides=e.target.checked},classes:["snap_mode","grid"],title:"Show Guides"}]}),setTimeout((function(){t.addControl(Object(Z.b)(o),n),t.addControl(a,n)}),400);case 2:case"end":return e.stop()}}),e)})));return function(t,o,n){return e.apply(this,arguments)}}();return n.onAdd=function(e,t){return n.map=e,n.elContainer=n.onAddOrig(e,t),n.buttons.forEach((function(e){n.addButton(e)})),h(e,Object(m.a)(n),t),n.elContainer},n.onRemove=function(e){n.buttons.forEach((function(e){n.removeButton(e)})),n.onRemoveOrig(e)},n.addButton=function(e){var t=document.createElement("button");t.className="mapbox-gl-draw_ctrl-draw-btn",t.setAttribute("title",e.title),e.classes instanceof Array&&e.classes.forEach((function(e){t.classList.add(e)})),t.addEventListener(e.on,e.action),n.elContainer.appendChild(t),e.elButton=t},n.removeButton=function(e){e.elButton.removeEventListener(e.on,e.action),e.elButton.remove()},n}return o}(v.a);o(99);var E=function(){"unavailable"===l.a.getRTLTextPluginStatus()&&l.a.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",(function(e){e&&console.error(e)}),!0);var e=Object(a.useRef)(null);return Object(a.useEffect)((function(){B=new l.a.Map({container:e.current||"",style:"https://map.ir/vector/styles/main/mapir-xyz-light-style.json",center:[51.3857,35.6102],zoom:10,pitch:0,interactive:!0,hash:!0,attributionControl:!0,customAttribution:"\xa9 Map \xa9 Openstreetmap",transformRequest:function(e){return{url:e,headers:{"x-api-key":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A","Mapir-SDK":"reactjs"}}}}),L=new A,window.draw=L,B.once("load",(function(){B.resize(),B.addControl(L,"top-right"),L.set({type:"FeatureCollection",features:[{type:"Feature",properties:{},id:"example-id",geometry:{type:"Polygon",coordinates:[[[51.41742415918904,35.73019558439101],[51.31319413385742,35.702773908694724],[51.378997493472525,35.665562843119986],[51.45008537540798,35.67776544979942],[51.46619566741822,35.70822028156377],[51.41742415918904,35.73019558439101]]]}}]}),B.on("draw.create",(function(e){console.log(e)})),B.on("draw.update",(function(e){console.log(e)}))}))}),[]),Object(n.jsx)("div",{className:"map-wrapper",children:Object(n.jsx)("div",{id:"map",ref:e})})},J=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,101)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;o(e),n(e),a(e),i(e),c(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(E,{})}),document.getElementById("root")),J()},72:function(e,t,o){},98:function(e,t,o){},99:function(e,t,o){}},[[100,1,2]]]);
//# sourceMappingURL=main.e67ef496.chunk.js.map